"use strict";var __awaiter=function(a,i,l,s){return new(l||(l=Promise))(function(e,t){function n(e){try{r(s.next(e))}catch(e){t(e)}}function o(e){try{r(s.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new l(function(e){e(t.value)}).then(n,o)}r((s=s.apply(a,i||[])).next())})},__generator=function(n,o){var r,a,i,e,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=o.call(n,l)}catch(e){t=[6,e],a=0}finally{r=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Modal=function(){function e(){this.overlayContainerID="overlay",this.overlayContainerGuts="overlayGuts",this.isOpen=!1,this.addOverlay()}return e.prototype.addOverlay=function(){var e='<div id="overlay"><div id="overlay-content"><a class="closebtn"><i class="fa fa-times"> </i></a><div id="overlayGuts" class="col1of1 responsive-container"></div></div></div>';document.getElementById("main-content")?(console.log("hello"),document.getElementById("main-content").insertAdjacentHTML("beforeend",e)):(console.log("goodbye"),document.getElementById("homepageContent").insertAdjacentHTML("beforeend",e))},e.prototype.updateOverlayContent=function(e){document.getElementById(this.overlayContainerGuts).innerHTML=e},e.prototype.openOverlay=function(e){var t=this,n=window.scrollY;window.scroll(0,n);var o=document.getElementById(this.overlayContainerID),r=document.getElementById(this.overlayContainerGuts);this.updateOverlayContent(e),o.style.height="100%",o.style.display="block",document.body.classList.add("modal-open"),o.getElementsByClassName("closebtn")[0].addEventListener("click",function(e){t.closeOverlay(r,o,n),e.preventDefault()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&(t.closeOverlay(r,o,n),e.preventDefault())}),this.isOpen=!0},e.prototype.closeOverlay=function(e,t,n){e.innerHTML="",t.style.height="0%",t.style.display="none",document.body.classList.remove("modal-open"),window.scroll(0,n),this.isOpen=!1},e}(),itAlert=function(){function e(e,t){this.hasAlerts={either:!1,homepageAlert:!1,purchasingAlert:!1},this.modal=e,this.getAlerts(),this.baseEL=document.getElementById(t)}return e.prototype.addAlertBoxToPage=function(){this.baseEL.insertAdjacentHTML("afterbegin",'<div class="contain-1440 itAlert itDanger">\n                            <div class="contain-1120">\n                            \x3c!-- <i class="fa fa-exclamation-triangle fa-2x">&nbsp;</i> --\x3e\n                            <h3>Hello</h3>\n                            <p>Estibulum et mi at mauris mattis iaculis. Nulla lectus velit, pellentesque et ante sed, consequat luctus enim. Nulla elementum commodo lorem, eu fermentum velit posuere quis. Morbi ornare est at tellus volutpat maximus. Pellentesque sapien orci, accumsan non nisl et, placerat laoreet nunc. Nam cursus pulvinar viverra.</p>\n                            <p><a id="alertTrigger" href="#">Read more</a></p>\n                            </div>  \n                        </div>')},e.prototype.getAlerts=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,fetch("https://feinberg-dev.fsm.northwestern.edu/it-new/ws/json-api.php?type=alerts").then(function(e){return e.json()}).then(function(e){return e})];case 1:return(t=e.sent()).homepageAlert&&(this.hasAlerts.either=this.hasAlerts.homepageAlert=!0),t.purchasingAlert&&(this.hasAlerts.either=this.hasAlerts.purchasingAlert=!0),this.hasAlerts&&(this.alerts=t,this.hasAlerts.either&&this.addAlertBoxToPage()),[2]}})})},e}();window.onload=function(){var e=new Modal;new itAlert(e,"homepageContent")};