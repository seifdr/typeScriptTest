"use strict";var __awaiter=function(i,l,a,s){return new(a||(a=Promise))(function(t,e){function n(t){try{o(s.next(t))}catch(t){e(t)}}function r(t){try{o(s.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,r)}o((s=s.apply(i,l||[])).next())})},__generator=function(n,r){var o,i,l,t,a={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(l=2&e[0]?i.return:e[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,l&&(e=[2&e[0],l.value]),e[0]){case 0:case 1:l=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,i=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(l=0<(l=a.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){a.label=e[1];break}if(6===e[0]&&a.label<l[1]){a.label=l[1],l=e;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(e);break}l[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},itAlert=function(){function t(){this.getAlert()}return t.prototype.chooseColor=function(t){return"Red"==t?" redFsmAlert ":"Blue"==t?" blueFsmAlert ":" yellowFsmAlert "},t.prototype.buildBox=function(t){var e='<div class="fsmAlert '+this.chooseColor(t.color)+'">\n                    <div class="contain-1440">\n                        <div class="alertMsg">'+t.blurb+"</div>";return e+="</div>  \n                </div>"},t.prototype.addAlertBoxToPage=function(){var t=this.buildBox(this.alert);this.baseEL.insertAdjacentHTML("afterbegin",t)},t.prototype.getAlert=function(){return __awaiter(this,void 0,void 0,function(){var e,n;return __generator(this,function(t){switch(t.label){case 0:return e="https://www.feinberg.northwestern.edu/ws/alert-json-api.php",0<window.location.href.indexOf("-dev")&&(e="https://feinberg-dev.fsm.northwestern.edu/ws/alert-json-api.php"),[4,fetch(e).then(function(t){return t.json()}).then(function(t){return t})];case 1:return(n=t.sent()).fsmAlert?(this.hasAlerts=!0,this.alert=n.fsmAlert,"Yes"==this.alert.showAlerts&&(this.baseEL=document.getElementsByTagName("BODY")[0],this.addAlertBoxToPage()),[2,n.fsmAlert]):[2]}})})},t}();window.onload=function(){new itAlert};